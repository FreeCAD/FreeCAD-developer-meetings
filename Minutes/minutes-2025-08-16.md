# Meeting Minutes

1.  Meeting Information:
    *   Date: August 16th, 2025
    *   Time: 1530 UTC
    *   Location: Jit.si

2.  Agenda Items:
    
    
    2. **Packaging and distribution formats for Linux** @mnesarco
       - Flatpak and AppImage are well know and battle tested distribution formats for Linux similar to the App Image used in Mac. Windows distribution is a different thing.
       - Currently we maintain compatibility with older versions of libraries just because freeecad can be
    installed from distro system repos (rpm, deb, etc..) which have to link with outdated library versions.
       - If we distribute FreeCAD for Linux using only Flatpak and AppImage we can use latest versions of
    almost everything.
       - This does not affect the "Build from source" option,
    currently the recommended way of "build from source" is pixi which also does not use system versions of libs.
       - OCCT is experimenting a new breath of changes and improvements and probably we want to use them.
       - Qt5 is EOL now.
       - C++20 allows us to do cleaner and safer code and c++23 is coming, we can get all those benefits.
    
    3. **Consistency in Workbench Preferences** (sliptonic can't attend)
       - An early design decision made it that workbench preferences were only loaded when the workbench was loaded.
       - This was done to minimize startup time and memory usage by not loading unused modules
       - Historically, users found it confusing.  The user experience in the preference system was inconsistent. Especially for newbies, preference may not match what they are seeing in documentation or a YouTube video. 
       - We have periodically considered loading all preference pages on startup to avoid user confusion. There was pushback from some forum users who may have many addons loaded and don't want the preference system polluted by seldom used modules.
       - PR https://github.com/FreeCAD/FreeCAD/pull/21981 added early loading of CAM preference pages.  This caused some regressions including  https://github.com/FreeCAD/FreeCAD/issues/23015
       - Now we are in a situation where there is inconsistency.  Some workbenches and addons load prefs early.  Others don't.  IMHO, the inconsistency is worse than the original problem.
       - Workbench and addon developers need some guidance on the 'right' way to do this.  A design decision should be added to the developer handbook so devs can start working towards compliance and consistency

4. **Security Advisory for image meta data** (sliptonic still not here)
   - https://github.com/FreeCAD/FreeCAD/security/advisories/GHSA-p78f-5g5g-4pw6

3.  Discussion Points:

## Administrative Updates

The meeting began with a review of important upcoming dates. September 1st was highlighted as the deadline for marking pull requests (PRs) as 
ready for review for inclusion in version 1.1. Maintainers will then prioritize reviewing these PRs in the first two weeks of September, leading 
up to the feature freeze on September 15th. The deadline for UI and translation changes is September 30th, with the 1.1 release expected shortly 
thereafter. Additionally, September 1st is also the deadline for applying for quarter three grants from the FPA, with approximately 20,000 euros available.

## Tabling of Linux Packaging and Distribution Formats

The discussion regarding packaging and distribution formats for Linux, proposed by Frank, was tabled until the next developer meeting on September 7th. 
This decision was made due to the absence of key individuals who would be crucial to the discussion, as many team members were on vacation.

## Consistency and Workbench Preferences

The meeting addressed the issue of inconsistent loading of workbench preferences, particularly in add-on workbenches. Currently, preferences for add-ons are 
not loaded until the workbench has been used at least once. This can be confusing for users who expect to see the preferences available immediately after 
installing an add-on. Product Manager Chris Hennes explained that this was a historical decision to prevent an excessive number of preference pages.

Kacper suggested preloading preferences but advised against implementing this change immediately before the feature freeze for version 1.1, citing potential 
instability. He proposed a middle ground: loading only the top-level category for each workbench, with the individual preference pages loading on demand when 
the category is clicked. Theo questioned the need for the change, suggesting users could simply enable autoload for their preferred workbenches. However, 
Kacper countered that preloading all workbenches could be resource-intensive for users with a large number of add-ons.

Chris Hennes noted that the "available workbenches" tab in preferences was initially intended to address this issue, but its functionality is not obvious to 
users. He also highlighted the flexibility of workbenches to inject preferences into any tab, not just their own, which complicates the issue. Kacper pointed 
out that the search feature in preferences helps mitigate the problem of overwhelming users with settings. Pieter mentioned an existing API for initializing 
preferences without fully loading the workbench. Kacper confirmed its existence but noted that it requires further discussion to determine its feasibility 
for add-on developers without requiring code changes. Chris Hennes agreed that a new, opt-in API might be the best approach, allowing developers to choose 
when to implement it. The consensus was to explore the possibility of a new API for preference initialization, acknowledging the challenges of achieving 
uniformity across all add-ons.

## Security Advisory for Image Metadata

The final agenda item concerned a security advisory related to image metadata. The issue is that images embedded in FreeCAD files may contain personally 
identifiable information (PII) in their EXIF metadata. Distributing a FreeCAD file with such an embedded image could inadvertently expose this PII. The 
initial suggestion was to allow users to strip out this metadata when saving their FreeCAD file or embedding the image.

Theo questioned why the application should be responsible for stripping metadata, suggesting users should do so themselves before embedding the image. 
Weston agreed, emphasizing that metadata is often intentionally included for provenance tracking. Theo suggested a warning message to inform users about 
the potential issue. Kacper noted that similar features are useful in messaging applications to protect users unaware of EXIF data. However, he questioned 
whether it was necessary for FreeCAD, as FreeCAD files are not typically shared as casually as images in messaging apps. He also raised concerns about 
potential file corruption if metadata stripping is not implemented correctly.

Chris Hennes proposed a less intrusive approach: a dialog box that appears the first time a user embeds an image, asking if they want to remove the metadata,
with options to "always" or "never ask again". Pieter suggested that this feature might be more relevant as part of the Lens add-on, which focuses on sharing 
FreeCAD files. Theo argued that the metadata stripping should occur when the image is embedded, not later. Kacper suggested converting the advisory into a 
feature request and prioritizing it based on the maturity of the Lens add-on. The action item was for Chris Hennes to convert the security advisory into a 
standard feature request. Max inquired about other potential sources of PII in FreeCAD files, such as GPS coordinates in architectural models. Weston raised 
the issue of licensing metadata for individual images within a FreeCAD file.

## Conclusion

The FreeCAD Developer Meeting addressed several key issues, including the timing of the 1.1 release, the handling of workbench preferences, and potential
security concerns related to image metadata. The discussion on Linux packaging was postponed. The team agreed to explore a new API for initializing workbench 
preferences and to convert the security advisory into a feature request for future consideration. The meeting concluded with a reminder to publish the minutes 
from the previous meeting.


## Next Meeting:
- Sunday, 7 September 2025 1530 UTC
- The discussion on groups in FreeCAD will be revisited at the next meeting.
- The discussion on Packaging and distribution formats for Linux will be revisited at the next meeting.
